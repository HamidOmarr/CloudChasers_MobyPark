openapi: 3.0.4
info: {}
paths:
  /api/Business:
    post:
      tags:
      - Business
      summary: Creates a new business.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBusinessDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateBusinessDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateBusinessDto'
      responses:
        '400':
          description: Invalid IBAN provided
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Business created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessDto'
        '409':
          description: Address already in use
  /api/Business/{id}:
    patch:
      tags:
      - Business
      summary: Updates an existing business.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchBusinessDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchBusinessDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchBusinessDto'
      responses:
        '400':
          description: Invalid IBAN provided
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Business updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessDto'
        '404':
          description: Business not found
        '409':
          description: New address already taken
    delete:
      tags:
      - Business
      summary: Deletes a business by its ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Business deleted
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: Business not found
    get:
      tags:
      - Business
      summary: Retrieves a business by its ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Found business
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessDto'
        '404':
          description: Not found
  /api/Business/all:
    get:
      tags:
      - Business
      summary: Retrieves a list of all registered businesses.
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadBusinessDto'
  /api/Business/{address}:
    get:
      tags:
      - Business
      summary: Retrieves a business by its address.
      parameters:
      - name: address
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Found business
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessDto'
        '404':
          description: Not found
  /api/BusinessParking:
    post:
      tags:
      - BusinessParkingRegistrations
      summary: Creates a new business registration (Admin only).
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBusinessRegAdminDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateBusinessRegAdminDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateBusinessRegAdminDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Registration created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: Business ID not found
        '409':
          description: License plate already registered or active
    patch:
      tags:
      - BusinessParkingRegistrations
      summary: Updates the active status of a registration (Admin only).
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchBusinessRegDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchBusinessRegDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchBusinessRegDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Status updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: Registration not found
  /api/BusinessParking/self:
    post:
      tags:
      - BusinessParkingRegistrations
      summary: Creates a registration for the currently logged-in user.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBusinessRegDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateBusinessRegDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateBusinessRegDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Registration created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: User or Business profile not found
        '409':
          description: User not authorized OR License plate already active
    patch:
      tags:
      - BusinessParkingRegistrations
      summary: Updates the active status of the user's own registration.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchBusinessRegDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchBusinessRegDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchBusinessRegDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Status updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: Registration not found
        '409':
          description: User not authorized to modify this registration
  /api/BusinessParking/{id}:
    delete:
      tags:
      - BusinessParkingRegistrations
      summary: Deletes a registration by ID (Admin only).
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: Registration not found
    get:
      tags:
      - BusinessParkingRegistrations
      summary: Retrieves a registration by its ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Found registration
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: Not found
  /api/BusinessParking/business/{id}:
    get:
      tags:
      - BusinessParkingRegistrations
      summary: Retrieves all registrations linked to a specific business ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: No registrations found for this business
  /api/BusinessParking/{licensePlate}:
    get:
      tags:
      - BusinessParkingRegistrations
      summary: Retrieves registrations matching a license plate.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Found registrations
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: Not found
  /api/BusinessParking/active/{licensePlate}:
    get:
      tags:
      - BusinessParkingRegistrations
      summary: Retrieves only ACTIVE registrations for a license plate.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Found active registration
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadBusinessRegDto'
        '404':
          description: No active registration found
  /api/HotelPasses:
    post:
      tags:
      - HotelPasses
      summary: Creates a new hotel pass (Admin).
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminCreateHotelPassDto'
          text/json:
            schema:
              $ref: '#/components/schemas/AdminCreateHotelPassDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/AdminCreateHotelPassDto'
      responses:
        '400':
          description: Invalid dates or no spots available
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Pass created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelPassDto'
        '409':
          description: Pass overlaps with existing reservation
    patch:
      tags:
      - HotelPasses
      summary: Updates a hotel pass (Admin).
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchHotelPassDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchHotelPassDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchHotelPassDto'
      responses:
        '400':
          description: Invalid dates or no spots available
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Pass updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelPassDto'
        '404':
          description: Pass not found
        '409':
          description: New dates overlap with another reservation
  /api/HotelPasses/self:
    post:
      tags:
      - HotelPasses
      summary: Creates a hotel pass for the logged-in hotelier's lot.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateHotelPassDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateHotelPassDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateHotelPassDto'
      responses:
        '400':
          description: Invalid dates or no spots available
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Pass created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelPassDto'
        '404':
          description: User, Hotel, or Parking Lot not found
        '409':
          description: User not authorized or Pass overlaps
    patch:
      tags:
      - HotelPasses
      summary: Updates a hotel pass for the logged-in hotelier.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchHotelPassDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchHotelPassDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchHotelPassDto'
      responses:
        '400':
          description: Invalid dates or no spots
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Pass updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelPassDto'
        '403':
          description: Forbidden (Pass belongs to another lot)
        '404':
          description: Pass not found
        '409':
          description: User not authorized or Overlap detected
  /api/HotelPasses/{id}:
    get:
      tags:
      - HotelPasses
      summary: Retrieves a hotel pass by ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Pass found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelPassDto'
        '404':
          description: Pass not found
  /api/HotelPasses/parkinglot/{id}:
    get:
      tags:
      - HotelPasses
      summary: Retrieves all passes for a specific parking lot.
      parameters:
      - name: parkingLotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadHotelPassDto'
        '404':
          description: Parking lot has no passes
  /api/HotelPasses/license-plate:
    get:
      tags:
      - HotelPasses
      summary: Retrieves all passes associated with a license plate.
      parameters:
      - name: plate
        in: query
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadHotelPassDto'
        '404':
          description: No passes found for this plate
  /api/HotelPasses/{parkingLotId}/license-plate:
    get:
      tags:
      - HotelPasses
      summary: Retrieves the currently ACTIVE pass for a specific lot and plate.
      parameters:
      - name: parkingLotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: plate
        in: query
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Pass found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelPassDto'
        '404':
          description: No active pass found
  /api/HotelPasses/admin/{id}:
    delete:
      tags:
      - HotelPasses
      summary: Deletes a hotel pass (Admin).
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: Pass not found
  /api/HotelPasses/self/{id}:
    delete:
      tags:
      - HotelPasses
      summary: Deletes a hotel pass created by the logged-in hotelier.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
          content:
            application/json:
              schema:
                type: boolean
        '403':
          description: Forbidden (Pass belongs to another lot)
        '404':
          description: Pass not found
        '409':
          description: User not authorized to manage passes
  /api/Hotels:
    post:
      tags:
      - Hotels
      summary: Creates a new hotel.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateHotelDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateHotelDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateHotelDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Hotel created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelDto'
        '404':
          description: Parking lot not found
        '409':
          description: Address or Parking Lot already taken
    patch:
      tags:
      - Hotels
      summary: Updates an existing hotel.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchHotelDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchHotelDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchHotelDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Hotel updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatchHotelDto'
        '404':
          description: Hotel not found
        '409':
          description: New address or parking lot already taken
    get:
      tags:
      - Hotels
      summary: Retrieves a list of all hotels.
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadHotelDto'
  /api/Hotels/{id}:
    delete:
      tags:
      - Hotels
      summary: Deletes a hotel by ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: Hotel not found
    get:
      tags:
      - Hotels
      summary: Retrieves a hotel by ID.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Hotel found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadHotelDto'
        '404':
          description: Hotel not found
  /api/LicensePlate:
    post:
      tags:
      - LicensePlate
      summary: Registers a new license plate for the current user.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateLicensePlateDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateLicensePlateDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateLicensePlateDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '201':
          description: License plate created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadLicensePlateDto'
        '409':
          description: License plate already exists
    get:
      tags:
      - LicensePlate
      summary: Retrieves all license plates for a user.
      parameters:
      - name: username
        in: query
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadLicensePlateDto'
        '403':
          description: Not authorized to view other users' plates
        '404':
          description: User not found
  /api/LicensePlate/{licensePlate}/entry:
    get:
      tags:
      - LicensePlate
      summary: Checks if a license plate is allowed to enter a parking lot.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      - name: parkingLotId
        in: query
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Entry accepted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadLicensePlateDto'
        '404':
          description: License plate or Parking lot not found
        '409':
          description: No spots available
  /api/LicensePlate/{licensePlate}:
    put:
      tags:
      - LicensePlate
      summary: Updates an existing license plate number.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLicensePlateRequest'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateLicensePlateRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateLicensePlateRequest'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Update successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadLicensePlateDto'
        '404':
          description: Old license plate not found
        '409':
          description: New license plate already exists
    delete:
      tags:
      - LicensePlate
      summary: Deletes a license plate.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: License plate not found
    get:
      tags:
      - LicensePlate
      summary: Retrieves details of a specific license plate.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Found plate
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadLicensePlateDto'
        '404':
          description: Not found
  /api/ParkingLots:
    post:
      tags:
      - ParkingLots
      summary: Creates a new parking lot.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateParkingLotDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateParkingLotDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateParkingLotDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Parking lot created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadParkingLotDto'
        '409':
          description: Parking lot address already taken
  /api/ParkingLots/{lotId}:
    get:
      tags:
      - ParkingLots
      summary: Retrieves a parking lot by its ID.
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Parking lot found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadParkingLotDto'
        '404':
          description: Parking lot not found
  /api/ParkingLots/by-address:
    get:
      tags:
      - ParkingLots
      summary: Retrieves a parking lot by its address.
      parameters:
      - name: address
        in: query
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Parking lot found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadParkingLotDto'
        '404':
          description: Parking lot not found
    patch:
      tags:
      - ParkingLots
      summary: Updates a parking lot by address.
      parameters:
      - name: address
        in: query
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchParkingLotDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchParkingLotDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchParkingLotDto'
      responses:
        '400':
          description: Invalid update data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Update successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadParkingLotDto'
        '404':
          description: Parking lot not found
        '409':
          description: New address conflicts with existing lot
  /api/ParkingLots/by-id/{lotId}:
    patch:
      tags:
      - ParkingLots
      summary: Updates a parking lot by ID.
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchParkingLotDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PatchParkingLotDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PatchParkingLotDto'
      responses:
        '400':
          description: Invalid update data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Update successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadParkingLotDto'
        '404':
          description: Parking lot not found
        '409':
          description: New address conflicts with existing lot
    delete:
      tags:
      - ParkingLots
      summary: Deletes a parking lot by ID.
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deletion successful
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: Parking lot not found
  /api/ParkingLots/by-address/{address}:
    delete:
      tags:
      - ParkingLots
      summary: Deletes a parking lot by address.
      parameters:
      - name: address
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deletion successful
          content:
            application/json:
              schema:
                type: boolean
        '404':
          description: Parking lot not found
  /api/ParkingLots/all:
    get:
      tags:
      - ParkingLots
      summary: Retrieves all registered parking lots.
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReadParkingLotDto'
  /api/ParkingSession/{lotId}/sessions/start:
    post:
      tags:
      - ParkingSession
      summary: Starts a new parking session.
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartParkingSessionDto'
          text/json:
            schema:
              $ref: '#/components/schemas/StartParkingSessionDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/StartParkingSessionDto'
      responses:
        '400':
          description: Invalid request data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '201':
          description: Session started successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartSessionResponseDto'
        '402':
          description: Payment pre-authorization failed
        '404':
          description: Parking lot not found
        '409':
          description: Parking lot full or session already active
  /api/ParkingSession/{lotId}/sessions/stop:
    post:
      tags:
      - ParkingSession
      summary: Stops an active parking session and processes payment.
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: sessionId
        in: query
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StopParkingSessionDto'
          text/json:
            schema:
              $ref: '#/components/schemas/StopParkingSessionDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/StopParkingSessionDto'
      responses:
        '400':
          description: Validation failed or already stopped
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Session stopped and invoice generated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StopSessionResponseDto'
        '402':
          description: Payment failed
        '404':
          description: Session or Lot not found
  /api/ParkingSession/{lotId}/sessions/{sessionId}:
    delete:
      tags:
      - ParkingSession
      summary: Deletes a parking session record (Admin only).
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: sessionId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
        '404':
          description: Session not found
    get:
      tags:
      - ParkingSession
      summary: Retrieves a specific parking session.
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: sessionId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Session found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParkingSessionModel'
        '403':
          description: Not authorized to view this session
        '404':
          description: Session not found
  /api/ParkingSession/{lotId}/sessions:
    get:
      tags:
      - ParkingSession
      summary: Retrieves sessions for a lot (Users see their own, Admins see all).
      parameters:
      - name: lotId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ParkingSessionModel'
  /api/Payments:
    post:
      tags:
      - Payments
      summary: Creates a pending payment and associated transaction.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreatePaymentDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Internal processing error
        '201':
          description: Payment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentResponseDto'
  /api/Payments/refund:
    post:
      tags:
      - Payments
      summary: Refunds an existing payment (Admin only).
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentRefundDto'
          text/json:
            schema:
              $ref: '#/components/schemas/PaymentRefundDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/PaymentRefundDto'
      responses:
        '400':
          description: Invalid input or missing amount
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '201':
          description: Refund processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefundResponseDto'
        '404':
          description: Original payment not found
  /api/Payments/{paymentId}:
    put:
      tags:
      - Payments
      summary: Validates and completes a payment.
      parameters:
      - name: paymentId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransactionDataDto'
          text/json:
            schema:
              $ref: '#/components/schemas/TransactionDataDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/TransactionDataDto'
      responses:
        '400':
          description: Invalid ID or data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Payment validated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentResponseDto'
        '404':
          description: Payment not found
    delete:
      tags:
      - Payments
      summary: Deletes a payment record.
      parameters:
      - name: paymentId
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
          content:
            application/json:
              schema: {}
        '404':
          description: Payment not found
  /api/Payments/{username}:
    get:
      tags:
      - Payments
      summary: Retrieves all payments for a specific user (Admin only).
      parameters:
      - name: username
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PaymentModel'
        '404':
          description: User or payments not found
  /api/Payments/id/{paymentId}:
    get:
      tags:
      - Payments
      summary: Retrieves a payment by its unique ID.
      parameters:
      - name: paymentId
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid ID format
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Payment found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentModel'
        '404':
          description: Payment not found
  /api/Payments/transaction/{transactionId}:
    get:
      tags:
      - Payments
      summary: Retrieves a payment by its associated transaction ID.
      parameters:
      - name: transactionId
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid ID format
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Payment found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentModel'
        '404':
          description: Payment not found
  /api/Payments/plate/{licensePlate}:
    get:
      tags:
      - Payments
      summary: Retrieves all payments associated with a license plate.
      parameters:
      - name: licensePlate
        in: path
        required: true
        schema:
          type: string
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PaymentModel'
        '404':
          description: No payments found
  /api/Reservations:
    post:
      tags:
      - Reservations
      summary: Creates a new parking reservation.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReservationDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateReservationDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateReservationDto'
      responses:
        '400':
          description: Invalid input or time window
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '201':
          description: Reservation created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationResponseDto'
        '403':
          description: Not authorized to reserve for this user
        '404':
          description: Parking lot, license plate, or user not found
        '409':
          description: Parking lot is full or reservation overlap exists
    get:
      tags:
      - Reservations
      summary: Retrieves all reservations (Admin only).
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: List retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReservationModel'
  /api/Reservations/{reservationId}:
    put:
      tags:
      - Reservations
      summary: Updates an existing reservation.
      parameters:
      - name: reservationId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateReservationDto'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateReservationDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateReservationDto'
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Update successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationModel'
        '404':
          description: Reservation not found
    delete:
      tags:
      - Reservations
      summary: Deletes (cancels) a reservation.
      parameters:
      - name: reservationId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Deleted successfully
        '404':
          description: Reservation not found
    get:
      tags:
      - Reservations
      summary: Retrieves a specific reservation.
      parameters:
      - name: reservationId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Reservation found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationModel'
        '404':
          description: Reservation not found
  /api/Reservations/estimate:
    post:
      tags:
      - Reservations
      summary: Estimates the cost of a reservation without creating it.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReservationCostEstimateRequest'
          text/json:
            schema:
              $ref: '#/components/schemas/ReservationCostEstimateRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/ReservationCostEstimateRequest'
      responses:
        '400':
          description: Invalid time window or lot closed
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Estimate calculated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationCostEstimateResponseDto'
        '404':
          description: Parking lot not found
  /api/Roles:
    post:
      tags:
      - Roles
      summary: Creates a new role.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRoleDto'
          text/json:
            schema:
              $ref: '#/components/schemas/CreateRoleDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateRoleDto'
      responses:
        '201':
          description: Role created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleModel'
        '400':
          description: Invalid role data
        '409':
          description: Role with this name already exists
  /api/Roles/{roleId}:
    get:
      tags:
      - Roles
      summary: Retrieves a role by its unique ID.
      parameters:
      - name: roleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '200':
          description: Role found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleModel'
        '404':
          description: Role not found
    put:
      tags:
      - Roles
      summary: Updates an existing role.
      parameters:
      - name: roleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRoleDto'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateRoleDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateRoleDto'
      responses:
        '200':
          description: Update successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleModel'
        '400':
          description: Invalid update data
        '404':
          description: Role not found
    delete:
      tags:
      - Roles
      summary: Deletes a role by ID.
      parameters:
      - name: roleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '200':
          description: Deleted successfully
        '404':
          description: Role not found
        '409':
          description: Cannot delete role (e.g., users assigned)
  /api/Roles/name/{roleName}:
    get:
      tags:
      - Roles
      summary: Retrieves a role by its name.
      parameters:
      - name: roleName
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Role found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleModel'
        '400':
          description: Invalid name input
        '404':
          description: Role not found
    delete:
      tags:
      - Roles
      summary: Deletes a role by name.
      parameters:
      - name: roleName
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Deleted successfully
        '403':
          description: Forbidden to delete this role
        '404':
          description: Role not found
        '409':
          description: Cannot delete role (e.g., users assigned)
  /api/Roles/exists:
    get:
      tags:
      - Roles
      summary: Checks if a role exists.
      parameters:
      - name: checkBy
        in: query
        schema:
          type: string
      - name: value
        in: query
        schema:
          type: string
      responses:
        '200':
          description: Check completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleExistsResponseDto'
        '400':
          description: Invalid search parameters
  /api/Roles/{roleId}/permissions:
    get:
      tags:
      - Roles
      summary: Gets all permissions assigned to a role.
      parameters:
      - name: roleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '200':
          description: Permissions retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RolePermissionModel'
        '404':
          description: Role or permissions not found
    post:
      tags:
      - Roles
      summary: Assigns a permission to a role.
      parameters:
      - name: roleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddPermissionToRoleDto'
          text/json:
            schema:
              $ref: '#/components/schemas/AddPermissionToRoleDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/AddPermissionToRoleDto'
      responses:
        '200':
          description: Permission assigned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RolePermissionModel'
        '404':
          description: Role or permission not found
        '409':
          description: Permission already assigned
  /api/Roles/{roleId}/permissions/{permissionId}:
    delete:
      tags:
      - Roles
      summary: Removes a permission from a role.
      parameters:
      - name: roleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: permissionId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '200':
          description: Permission removed
        '403':
          description: Action forbidden
        '404':
          description: Assignment not found
  /api/Users/register:
    post:
      tags:
      - Users
      summary: Registers a new user and returns an auth token.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterDto'
          text/json:
            schema:
              $ref: '#/components/schemas/RegisterDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/RegisterDto'
      responses:
        '400':
          description: Invalid data provided
        '401':
          description: Unauthorized
        '500':
          description: Server error
        '201':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthDto'
        '409':
          description: Username already taken
  /api/Users/login:
    post:
      tags:
      - Users
      summary: Authenticates a user and returns a JWT.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginDto'
          text/json:
            schema:
              $ref: '#/components/schemas/LoginDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/LoginDto'
      responses:
        '400':
          description: Invalid input
        '401':
          description: Invalid credentials
        '500':
          description: Unexpected internal server error
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthDto'
  /api/Users/profile:
    put:
      tags:
      - Users
      summary: Updates the authenticated user's profile.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserDto'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateUserDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateUserDto'
      responses:
        '400':
          description: Invalid data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Profile updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileDto'
        '404':
          description: User not found
        '409':
          description: Username or Email taken
    get:
      tags:
      - Users
      summary: Retrieves the authenticated user's profile.
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Profile retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileDto'
  /api/Users/{id}:
    get:
      tags:
      - Users
      summary: Retrieves public information of a specific user.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: User found
          content:
            application/json:
              schema: {}
        '404':
          description: User not found
  /api/Users/admin/users/{id}:
    get:
      tags:
      - Users
      summary: Retrieves full user details (Admin).
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: User found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminUserProfileDto'
        '404':
          description: User not found
    delete:
      tags:
      - Users
      summary: Deletes a user account (Admin).
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: User deleted
        '404':
          description: User not found
  /api/Users/admin/users/{id}/identity:
    put:
      tags:
      - Users
      summary: Updates a user's identity info (Admin).
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserIdentityDto'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateUserIdentityDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateUserIdentityDto'
      responses:
        '400':
          description: Invalid data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Identity updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminUserProfileDto'
        '404':
          description: User not found
  /api/Users/admin/users/{id}/role:
    put:
      tags:
      - Users
      summary: Updates a user's assigned role (Admin).
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRoleDto'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRoleDto'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateUserRoleDto'
      responses:
        '400':
          description: Invalid role or user data
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Role updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminUserProfileDto'
        '404':
          description: User not found
  /api/Users/admin/users:
    get:
      tags:
      - Users
      summary: Lists all users (Admin).
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '200':
          description: Users retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AdminUserProfileDto'
  /api/Users/logout:
    get:
      tags:
      - Users
      summary: Logs out the current user (client-side action mainly).
      responses:
        '400':
          description: Invalid data supplied
        '401':
          description: Unauthorized
        '500':
          description: Unexpected internal server error
        '204':
          description: Logout successful
components:
  schemas:
    AddPermissionToRoleDto:
      required:
      - permissionId
      type: object
      properties:
        permissionId:
          minimum: 1
          type: integer
          description: The unique identifier of the permission to assign.
          format: int64
      additionalProperties: false
      description: Data required to assign a permission to a role.
    AdminCreateHotelPassDto:
      required:
      - end
      - licensePlate
      - parkingLotId
      - start
      type: object
      properties:
        licensePlate:
          minLength: 1
          type: string
          description: License plate of the guest
        parkingLotId:
          type: integer
          description: The ID of the parking lot
          format: int64
        start:
          type: string
          description: Start time of the reservation (UTC)
          format: date-time
        end:
          type: string
          description: End time of the reservation (UTC)
          format: date-time
        extraTime:
          type: string
          description: 'Grace period (Default: 30 mins)'
          format: date-span
      additionalProperties: false
      description: Data for an admin to create a pass (Must specify Lot ID).
    AdminUserProfileDto:
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the user.
          format: int64
        username:
          type: string
          description: The username of the user.
          nullable: true
        firstName:
          type: string
          description: The first name of the user.
          nullable: true
        lastName:
          type: string
          description: The last name of the user.
          nullable: true
        email:
          type: string
          description: The email address of the user.
          nullable: true
        phone:
          type: string
          description: The phone number of the user.
          nullable: true
        birthday:
          type: string
          description: The birthday of the user.
          format: date-time
        role:
          type: string
          description: The name of the user's role
          nullable: true
        createdAt:
          type: string
          description: The date and time when the user was created
          format: date-time
      additionalProperties: false
      description: Extended user profile information for admins.
    AuthDto:
      type: object
      properties:
        userId:
          type: integer
          description: The unique identifier of the authenticated user.
          format: int64
        username:
          type: string
          description: The username of the authenticated user.
          nullable: true
        email:
          type: string
          description: The email of the authenticated user.
          nullable: true
        token:
          type: string
          description: The JWT Access Token
          nullable: true
        refreshToken:
          type: string
          description: The JWT Refresh Token
          nullable: true
      additionalProperties: false
      description: Authentication success response containing the JWT.
    BusinessModel:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
          nullable: true
        address:
          type: string
          nullable: true
        iban:
          type: string
          nullable: true
      additionalProperties: false
    BusinessParkingRegistrationModel:
      type: object
      properties:
        id:
          type: integer
          format: int64
        businessId:
          type: integer
          format: int64
        business:
          $ref: '#/components/schemas/BusinessModel'
        licensePlateNumber:
          type: string
          nullable: true
        active:
          type: boolean
        lastSinceActive:
          type: string
          format: date-time
      additionalProperties: false
    CreateBusinessDto:
      required:
      - address
      - iban
      - name
      type: object
      properties:
        name:
          maxLength: 100
          minLength: 1
          type: string
          description: The official registered name of the business
        address:
          minLength: 1
          type: string
          description: The physical visiting address
        iban:
          minLength: 1
          type: string
          description: The bank account number (IBAN format)
      additionalProperties: false
      description: Data Transfer Object for creating a new business
    CreateBusinessRegAdminDto:
      required:
      - businessId
      - licensePlateNumber
      type: object
      properties:
        businessId:
          type: integer
          description: The ID of the business to link this registration to
          format: int64
        licensePlateNumber:
          minLength: 1
          type: string
          description: The license plate number
        active:
          type: boolean
          description: 'Initial active status (default: false)'
      additionalProperties: false
      description: Data for an admin to create a new registration.
    CreateBusinessRegDto:
      required:
      - licensePlateNumber
      type: object
      properties:
        licensePlateNumber:
          minLength: 1
          type: string
          description: The license plate number
        active:
          type: boolean
          description: Initial active status
      additionalProperties: false
      description: Data for a user to register their own vehicle.
    CreateHotelDto:
      required:
      - address
      - hotelParkingLotId
      - iban
      - name
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: The name of the hotel
        address:
          minLength: 1
          type: string
          description: Physical address
        iban:
          minLength: 1
          type: string
          description: Bank account number (IBAN)
        hotelParkingLotId:
          type: integer
          description: The ID of the parking lot owned by this hotel
          format: int64
      additionalProperties: false
      description: Data for creating a new Hotel.
    CreateHotelPassDto:
      required:
      - end
      - licensePlate
      - start
      type: object
      properties:
        licensePlate:
          minLength: 1
          type: string
          description: License plate of the guest
        start:
          type: string
          description: Start time of the reservation (UTC)
          format: date-time
        end:
          type: string
          description: End time of the reservation (UTC)
          format: date-time
        extraTime:
          type: string
          description: 'Grace period added to the end time (Default: 30 mins)'
          format: date-span
      additionalProperties: false
      description: Data for a hotelier to create a pass (Lot ID inferred from user).
    CreateLicensePlateDto:
      required:
      - licensePlate
      type: object
      properties:
        licensePlate:
          minLength: 1
          type: string
          description: The license plate number (e.g., AA-12-BB)
      additionalProperties: false
      description: Data required to register a new license plate.
    CreateParkingLotDto:
      required:
      - address
      - capacity
      - location
      - name
      - tariff
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: The display name of the parking lot
        location:
          minLength: 1
          type: string
          description: The general location or city (e.g. 'Downtown')
        address:
          minLength: 1
          type: string
          description: The full street address
        capacity:
          maximum: 20000
          minimum: 1
          type: integer
          description: The total number of parking spots available
          format: int32
        tariff:
          maximum: 100
          minimum: 0
          type: number
          description: The standard hourly tariff
          format: double
        dayTariff:
          type: number
          description: Optional discounted tariff for full-day parking
          format: double
          nullable: true
      additionalProperties: false
      description: Data required to create a new parking lot.
    CreatePaymentDto:
      required:
      - amount
      - licensePlateNumber
      type: object
      properties:
        amount:
          type: number
          description: The monetary amount to be charged.
          format: double
        licensePlateNumber:
          minLength: 1
          type: string
          description: The license plate number associated with the payment.
      additionalProperties: false
      description: Data required to initiate a new payment.
    CreateReservationDto:
      required:
      - endDate
      - licensePlate
      - parkingLotId
      - startDate
      type: object
      properties:
        parkingLotId:
          type: integer
          description: The unique identifier of the parking lot.
          format: int64
        licensePlate:
          minLength: 1
          type: string
          description: The license plate to reserve the spot for.
        startDate:
          type: string
          description: The start date and time of the reservation.
          format: date-time
        endDate:
          type: string
          description: The end date and time of the reservation.
          format: date-time
        username:
          type: string
          description: 'Optional: The username to create the reservation for (Admin
            only).'
          nullable: true
      additionalProperties: false
      description: Data required to create a reservation.
    CreateRoleDto:
      required:
      - name
      type: object
      properties:
        name:
          maxLength: 50
          minLength: 1
          type: string
          description: The unique name of the role (e.g., 'Manager').
        description:
          type: string
          description: A description of the role's purpose.
          nullable: true
      additionalProperties: false
      description: Data required to create a new role.
    HotelModel:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
          nullable: true
        address:
          type: string
          nullable: true
        iban:
          type: string
          nullable: true
        hotelParkingLotId:
          type: integer
          format: int64
        parkingLot:
          $ref: '#/components/schemas/ParkingLotModel'
      additionalProperties: false
    HotelPassModel:
      type: object
      properties:
        id:
          type: integer
          format: int64
        parkingLotId:
          type: integer
          format: int64
        parkingLot:
          $ref: '#/components/schemas/ParkingLotModel'
        licensePlateNumber:
          type: string
          nullable: true
        licensePlate:
          $ref: '#/components/schemas/LicensePlateModel'
        start:
          type: string
          format: date-time
        end:
          type: string
          format: date-time
        extraTime:
          type: string
          format: date-span
      additionalProperties: false
    LicensePlateModel:
      required:
      - licensePlateNumber
      type: object
      properties:
        licensePlateNumber:
          minLength: 1
          type: string
      additionalProperties: false
    LoginDto:
      required:
      - identifier
      - password
      type: object
      properties:
        identifier:
          minLength: 1
          type: string
          description: Username or Email address
        password:
          minLength: 1
          type: string
          description: User password
      additionalProperties: false
      description: Credentials required to authenticate a user.
    ParkingLotModel:
      required:
      - address
      - capacity
      - createdAt
      - location
      - name
      - reservations
      - reserved
      - status
      - tariff
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          minLength: 1
          type: string
        location:
          minLength: 1
          type: string
        address:
          minLength: 1
          type: string
        capacity:
          type: integer
          format: int32
        reserved:
          type: integer
          format: int32
        availableSpots:
          type: integer
          format: int32
          readOnly: true
        tariff:
          type: number
          format: double
        dayTariff:
          type: number
          format: double
          nullable: true
        createdAt:
          type: string
          format: date-time
        status:
          $ref: '#/components/schemas/ParkingLotStatus'
        reservations:
          type: array
          items:
            $ref: '#/components/schemas/ReservationModel'
      additionalProperties: false
    ParkingLotStatus:
      enum:
      - 0
      - 1
      - 2
      type: integer
      format: int32
    ParkingSessionModel:
      required:
      - licensePlateNumber
      - parkingLotId
      - paymentStatus
      - started
      type: object
      properties:
        id:
          type: integer
          format: int64
        parkingLotId:
          type: integer
          format: int64
        parkingLot:
          $ref: '#/components/schemas/ParkingLotModel'
        licensePlateNumber:
          minLength: 1
          type: string
        licensePlate:
          $ref: '#/components/schemas/LicensePlateModel'
        started:
          type: string
          format: date-time
        stopped:
          type: string
          format: date-time
          nullable: true
        hotelPassId:
          type: integer
          format: int64
          nullable: true
        hotelPass:
          $ref: '#/components/schemas/HotelPassModel'
        businessParkingRegistrationId:
          type: integer
          format: int64
          nullable: true
        businessRegistration:
          $ref: '#/components/schemas/BusinessParkingRegistrationModel'
        cost:
          type: number
          format: double
          nullable: true
        paymentStatus:
          $ref: '#/components/schemas/ParkingSessionStatus'
      additionalProperties: false
    ParkingSessionStatus:
      enum:
      - 0
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
      - 7
      - 8
      type: integer
      format: int32
    PatchBusinessDto:
      type: object
      properties:
        name:
          type: string
          description: The official registered name of the business
          nullable: true
        address:
          type: string
          description: The physical visiting address
          nullable: true
        iban:
          type: string
          description: The bank account number (IBAN format)
          nullable: true
      additionalProperties: false
      description: Data Transfer Object for updating existing business information
    PatchBusinessRegDto:
      required:
      - id
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the registration to update
          format: int64
        active:
          type: boolean
          description: The new active status
      additionalProperties: false
      description: Data to update the status of an existing registration.
    PatchHotelDto:
      required:
      - id
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the hotel
          format: int64
        name:
          type: string
          description: The new name (optional)
          nullable: true
        address:
          type: string
          description: The new address (optional)
          nullable: true
        iban:
          type: string
          description: The new IBAN (optional)
          nullable: true
        hotelParkingLotId:
          type: integer
          description: The new parking lot ID (optional)
          format: int64
          nullable: true
      additionalProperties: false
      description: Data for updating a Hotel.
    PatchHotelPassDto:
      required:
      - id
      type: object
      properties:
        id:
          type: integer
          description: Unique pass ID
          format: int64
        licensePlate:
          type: string
          nullable: true
        start:
          type: string
          format: date-time
          nullable: true
        end:
          type: string
          format: date-time
          nullable: true
        extraTime:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
      description: Data to update a hotel pass.
    PatchParkingLotDto:
      type: object
      properties:
        name:
          type: string
          description: The new display name
          nullable: true
        location:
          type: string
          description: The new general location
          nullable: true
        address:
          type: string
          description: The new street address (must be unique)
          nullable: true
        capacity:
          maximum: 20000
          minimum: 1
          type: integer
          description: The new total capacity
          format: int32
          nullable: true
        tariff:
          maximum: 100
          minimum: 0
          type: number
          description: The new hourly tariff
          format: double
          nullable: true
        dayTariff:
          type: number
          description: The new day tariff
          format: double
          nullable: true
        reserved:
          maximum: 20000
          minimum: 0
          type: integer
          description: The number of spots reserved for specific uses
          format: int32
          nullable: true
      additionalProperties: false
      description: Data for updating specific fields of an existing parking lot.
    PaymentModel:
      required:
      - amount
      - createdAt
      - licensePlateNumber
      - transactionId
      type: object
      properties:
        paymentId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        licensePlateNumber:
          minLength: 1
          type: string
        licensePlate:
          $ref: '#/components/schemas/LicensePlateModel'
        createdAt:
          type: string
          format: date-time
        completedAt:
          type: string
          format: date-time
          nullable: true
        transactionId:
          type: string
          format: uuid
        transaction:
          $ref: '#/components/schemas/TransactionModel'
      additionalProperties: false
    PaymentRefundDto:
      required:
      - paymentId
      type: object
      properties:
        paymentId:
          minLength: 1
          type: string
          description: The unique identifier of the payment to be refunded.
        amount:
          type: number
          description: The amount to refund. If null, may default to full amount.
          format: double
          nullable: true
      additionalProperties: false
      description: Data required to process a refund.
    PaymentResponseDto:
      type: object
      properties:
        status:
          type: string
          description: The outcome status of the operation (e.g., 'Success', 'Created').
          nullable: true
        payment:
          $ref: '#/components/schemas/PaymentModel'
      additionalProperties: false
      description: Wraps the payment model with a status message.
    PermissionModel:
      required:
      - action
      - resource
      type: object
      properties:
        id:
          type: integer
          format: int64
        resource:
          maxLength: 100
          minLength: 1
          type: string
        action:
          maxLength: 50
          minLength: 1
          type: string
        key:
          maxLength: 150
          type: string
          nullable: true
        rolePermissions:
          type: array
          items:
            $ref: '#/components/schemas/RolePermissionModel'
          nullable: true
      additionalProperties: false
    ReadBusinessDto:
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the business
          format: int64
        name:
          type: string
          description: The official registered name of the business
          nullable: true
        address:
          type: string
          description: The physical visiting address
          nullable: true
        iban:
          type: string
          description: The bank account number (IBAN format)
          nullable: true
      additionalProperties: false
      description: Data Transfer Object for reading business information
    ReadBusinessRegDto:
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the registration
          format: int64
        businessId:
          type: integer
          description: The ID of the associated business
          format: int64
        licensePlateNumber:
          type: string
          description: The license plate number
          nullable: true
        active:
          type: boolean
          description: Whether the registration is currently valid
        lastSinceActive:
          type: string
          description: The timestamp when the active status was last changed
          format: date-time
      additionalProperties: false
      description: Details of a business parking registration.
    ReadHotelDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
          nullable: true
        address:
          type: string
          nullable: true
        hotelParkingLotId:
          type: integer
          format: int64
      additionalProperties: false
      description: Details of a Hotel.
    ReadHotelPassDto:
      required:
      - end
      - extraTime
      - id
      - licensePlate
      - parkingLotId
      - start
      type: object
      properties:
        id:
          type: integer
          description: Unique pass ID
          format: int64
        licensePlate:
          minLength: 1
          type: string
          description: Guest license plate
        parkingLotId:
          type: integer
          format: int64
        start:
          type: string
          format: date-time
        end:
          type: string
          format: date-time
        extraTime:
          type: string
          format: date-span
      additionalProperties: false
      description: Details of a Hotel Pass.
    ReadLicensePlateDto:
      type: object
      properties:
        licensePlate:
          type: string
          description: The license plate number
          nullable: true
        userId:
          type: integer
          description: The ID of the user who owns this plate
          format: int64
        status:
          type: string
          description: Optional status report relating to the method this plate was
            retrieved
          nullable: true
      additionalProperties: false
      description: Details of a registered license plate.
    ReadParkingLotDto:
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the parking lot
          format: int64
        name:
          type: string
          description: The display name
          nullable: true
        location:
          type: string
          description: The general location
          nullable: true
        address:
          type: string
          description: The full address
          nullable: true
        reserved:
          type: integer
          description: Number of reserved spots
          format: int32
        capacity:
          type: integer
          description: Total capacity
          format: int32
        tariff:
          type: number
          description: Hourly tariff
          format: double
        dayTariff:
          type: number
          description: Daily tariff (if applicable)
          format: double
          nullable: true
        createdAt:
          type: string
          description: Date of creation
          format: date-time
        status:
          $ref: '#/components/schemas/ParkingLotStatus'
        reservations:
          type: array
          items:
            $ref: '#/components/schemas/ReservationModel'
          description: Associated reservations
          nullable: true
      additionalProperties: false
      description: Details of a registered parking lot.
    RefundResponseDto:
      type: object
      properties:
        status:
          type: string
          description: The outcome status of the refund operation.
          nullable: true
        refund:
          $ref: '#/components/schemas/PaymentModel'
      additionalProperties: false
      description: Details regarding a processed refund.
    RegisterDto:
      required:
      - birthday
      - confirmPassword
      - email
      - firstName
      - lastName
      - password
      - phone
      - username
      type: object
      properties:
        email:
          minLength: 1
          type: string
          description: A valid email address
          format: email
        username:
          minLength: 3
          type: string
          description: A unique username
        password:
          minLength: 8
          type: string
          description: A strong password (min 8 chars, 1 uppercase, 1 number)
          format: password
        confirmPassword:
          minLength: 1
          type: string
          description: Confirmation of the password
          format: password
        firstName:
          maxLength: 50
          minLength: 2
          type: string
        lastName:
          maxLength: 100
          minLength: 2
          type: string
        birthday:
          type: string
          description: Date of birth (User must be 16+)
          format: date-time
        phone:
          minLength: 1
          type: string
          description: Valid Dutch phone number
          format: tel
        licensePlate:
          type: string
          description: Optional initial license plate to register
          nullable: true
      additionalProperties: false
      description: Data required to register a new user account.
    ReservationCostEstimateRequest:
      required:
      - endDate
      - licensePlate
      - parkingLotId
      - startDate
      type: object
      properties:
        parkingLotId:
          type: integer
          description: The parking lot ID to check prices against.
          format: int64
        licensePlate:
          minLength: 1
          type: string
          description: The license plate number (for user ownership verification).
        startDate:
          type: string
          description: The proposed start time.
          format: date-time
        endDate:
          type: string
          description: The proposed end time.
          format: date-time
      additionalProperties: false
      description: Data required to request a cost estimate.
    ReservationCostEstimateResponseDto:
      type: object
      properties:
        estimatedCost:
          type: number
          description: The calculated cost based on the lot's tariff.
          format: double
      additionalProperties: false
      description: The estimated cost for a proposed reservation time window.
    ReservationModel:
      required:
      - cost
      - createdAt
      - endTime
      - licensePlateNumber
      - parkingLotId
      - startTime
      - status
      type: object
      properties:
        id:
          type: integer
          format: int64
        licensePlateNumber:
          minLength: 1
          type: string
        licensePlate:
          $ref: '#/components/schemas/LicensePlateModel'
        parkingLotId:
          type: integer
          format: int64
        parkingLot:
          $ref: '#/components/schemas/ParkingLotModel'
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        status:
          $ref: '#/components/schemas/ReservationStatus'
        createdAt:
          type: string
          format: date-time
        cost:
          type: number
          format: double
      additionalProperties: false
    ReservationResponseDto:
      type: object
      properties:
        status:
          type: string
          description: The outcome status of the operation.
          nullable: true
        reservation:
          $ref: '#/components/schemas/ReservationModel'
      additionalProperties: false
      description: The result of a reservation creation request.
    ReservationStatus:
      enum:
      - 0
      - 1
      - 2
      - 3
      - 4
      type: integer
      format: int32
    RoleExistsResponseDto:
      type: object
      properties:
        exists:
          type: boolean
          description: True if the role exists, false otherwise.
      additionalProperties: false
      description: Result of a role existence check.
    RoleModel:
      required:
      - name
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          maxLength: 50
          minLength: 1
          type: string
        description:
          type: string
          nullable: true
        users:
          type: array
          items:
            $ref: '#/components/schemas/UserModel'
          nullable: true
        rolePermissions:
          type: array
          items:
            $ref: '#/components/schemas/RolePermissionModel'
          nullable: true
      additionalProperties: false
    RolePermissionModel:
      type: object
      properties:
        roleId:
          type: integer
          format: int64
        role:
          $ref: '#/components/schemas/RoleModel'
        permissionId:
          type: integer
          format: int64
        permission:
          $ref: '#/components/schemas/PermissionModel'
      additionalProperties: false
    SessionInvoiceDto:
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the parking session.
          format: int64
        sessionDuration:
          type: integer
          description: The duration of the parking session in minutes.
          format: int32
        totalCost:
          type: number
          description: The total cost incurred during the parking session.
          format: double
        createdAt:
          type: string
          description: The timestamp when the invoice was created.
          format: date-time
        status:
          type: string
          description: The current status of the invoice.
          nullable: true
        invoiceSummary:
          type: array
          items:
            type: string
          description: A detailed summary of the invoice items.
          nullable: true
      additionalProperties: false
      description: Invoice summary generated upon session stop.
    StartParkingSessionDto:
      required:
      - cardToken
      - licensePlate
      type: object
      properties:
        licensePlate:
          minLength: 1
          type: string
          description: The license plate number to park
        cardToken:
          minLength: 1
          type: string
          description: The token representing the payment card
        estimatedAmount:
          type: number
          description: The amount to pre-authorize on the card
          format: double
        simulateInsufficientFunds:
          type: boolean
          description: 'For testing: Simulate a card decline'
      additionalProperties: false
      description: Data required to start a parking session.
    StartSessionResponseDto:
      type: object
      properties:
        status:
          type: string
          description: The status of the parking session
          nullable: true
        sessionId:
          type: integer
          description: The unique identifier of the parking session
          format: int64
        licensePlate:
          type: string
          description: The license plate associated with the parking session
          nullable: true
        parkingLotId:
          type: integer
          description: The unique identifier of the parking lot
          format: int64
        startedAt:
          type: string
          description: The timestamp when the parking session started
          format: date-time
        paymentStatus:
          type: string
          description: The payment status for the parking session
          nullable: true
        availableSpots:
          type: integer
          description: Remaining spots in the lot after this session started
          format: int32
      additionalProperties: false
      description: Response details when a session is successfully started.
    StopParkingSessionDto:
      required:
      - cardToken
      - licensePlate
      type: object
      properties:
        licensePlate:
          minLength: 1
          type: string
          description: The license plate number (for verification)
        cardToken:
          minLength: 1
          type: string
          description: The token representing the payment card to charge
      additionalProperties: false
      description: Data required to stop a parking session.
    StopSessionResponseDto:
      type: object
      properties:
        status:
          type: string
          description: The status of the parking session after stopping.
          nullable: true
        sessionId:
          type: integer
          description: The unique identifier of the parking session.
          format: int64
        licensePlate:
          type: string
          description: The license plate associated with the parking session.
          nullable: true
        parkingLotId:
          type: integer
          description: The unique identifier of the parking lot where the session
            took place.
          format: int64
        startedAt:
          type: string
          description: The timestamp when the parking session started.
          format: date-time
        stoppedAt:
          type: string
          description: The timestamp when the parking session was stopped.
          format: date-time
          nullable: true
        paymentStatus:
          type: string
          description: The total amount charged for the parking session.
          nullable: true
        invoice:
          $ref: '#/components/schemas/SessionInvoiceDto'
      additionalProperties: false
      description: Response details when a session is stopped.
    TransactionDataDto:
      required:
      - bank
      - issuer
      - method
      type: object
      properties:
        method:
          minLength: 1
          type: string
          description: The payment method used (e.g., CreditCard, PayPal).
        issuer:
          minLength: 1
          type: string
          description: The issuer of the payment method (e.g., Visa, Mastercard).
        bank:
          minLength: 1
          type: string
          description: The bank or provider handling the transaction.
      additionalProperties: false
      description: Details regarding the transaction method provided by the payment
        gateway.
    TransactionModel:
      required:
      - amount
      - bank
      - issuer
      - method
      type: object
      properties:
        id:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        method:
          minLength: 1
          type: string
        issuer:
          minLength: 1
          type: string
        bank:
          minLength: 1
          type: string
      additionalProperties: false
    UpdateLicensePlateRequest:
      required:
      - newLicensePlate
      - oldLicensePlate
      type: object
      properties:
        oldLicensePlate:
          minLength: 1
          type: string
          description: The current license plate number
        newLicensePlate:
          minLength: 1
          type: string
          description: The new license plate number
      additionalProperties: false
      description: Data to update an existing license plate.
    UpdateReservationDto:
      type: object
      properties:
        startTime:
          type: string
          description: The new start time (cannot be changed if already started).
          format: date-time
          nullable: true
        endTime:
          type: string
          description: The new end time.
          format: date-time
          nullable: true
        status:
          $ref: '#/components/schemas/ReservationStatus'
      additionalProperties: false
      description: Data required to update an existing reservation.
    UpdateRoleDto:
      required:
      - id
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the role to update.
          format: int64
        name:
          maxLength: 50
          type: string
          description: The new name for the role (optional).
          nullable: true
        description:
          type: string
          description: The new description for the role (optional).
          nullable: true
      additionalProperties: false
      description: Data required to update an existing role.
    UpdateUserDto:
      type: object
      properties:
        username:
          type: string
          description: The new username for the user (optional).
          nullable: true
        password:
          type: string
          description: The new password for the user (optional).
          nullable: true
        firstName:
          type: string
          description: The new first name for the user (optional).
          nullable: true
        lastName:
          type: string
          description: The new last name for the user (optional).
          nullable: true
        roleId:
          type: integer
          description: The new role ID for the user (optional).
          format: int64
          nullable: true
        email:
          type: string
          description: The new email address for the user (optional).
          format: email
          nullable: true
        phone:
          type: string
          description: The new phone number for the user (optional).
          format: tel
          nullable: true
        birthday:
          type: string
          description: The new birthday for the user (optional).
          format: date-time
          nullable: true
      additionalProperties: false
      description: Data for updating user profile details.
    UpdateUserIdentityDto:
      type: object
      properties:
        firstName:
          maxLength: 100
          minLength: 1
          type: string
          description: The new first name for the user (optional).
          nullable: true
        lastName:
          maxLength: 100
          minLength: 1
          type: string
          description: The new last name for the user (optional).
          nullable: true
        birthday:
          type: string
          description: The new birthday for the user (optional).
          format: date-time
          nullable: true
      additionalProperties: false
      description: Admin-only data for updating user identity.
    UpdateUserRoleDto:
      type: object
      properties:
        roleId:
          maximum: 6
          minimum: 1
          type: integer
          description: The new role ID to assign to the user.
          format: int64
      additionalProperties: false
      description: Data for changing a user's role.
    UserModel:
      required:
      - createdAt
      - email
      - firstName
      - lastName
      - passwordHash
      - phone
      - roleId
      - username
      type: object
      properties:
        id:
          type: integer
          format: int64
        username:
          maxLength: 32
          minLength: 1
          type: string
        passwordHash:
          minLength: 1
          type: string
        firstName:
          maxLength: 50
          minLength: 1
          type: string
        lastName:
          maxLength: 50
          minLength: 1
          type: string
        email:
          maxLength: 320
          minLength: 1
          type: string
        phone:
          maxLength: 20
          minLength: 1
          type: string
        roleId:
          type: integer
          format: int64
        role:
          $ref: '#/components/schemas/RoleModel'
        createdAt:
          type: string
          format: date-time
        birthday:
          type: string
          format: date-time
        hotelId:
          type: integer
          format: int64
          nullable: true
        hotel:
          $ref: '#/components/schemas/HotelModel'
        businessId:
          type: integer
          format: int64
          nullable: true
        business:
          $ref: '#/components/schemas/BusinessModel'
        refreshToken:
          type: string
          nullable: true
        slidingTokenExpiryTime:
          type: string
          format: date-time
          nullable: true
        absoluteTokenExpiryTime:
          type: string
          format: date-time
          nullable: true
      additionalProperties: false
    UserProfileDto:
      type: object
      properties:
        id:
          type: integer
          description: The unique identifier of the user.
          format: int64
        username:
          type: string
          description: The username of the user.
          nullable: true
        firstName:
          type: string
          description: The first name of the user.
          nullable: true
        lastName:
          type: string
          description: The last name of the user.
          nullable: true
        email:
          type: string
          description: The email address of the user.
          nullable: true
        phone:
          type: string
          description: The phone number of the user.
          nullable: true
        birthday:
          type: string
          description: The birthday of the user.
          format: date-time
      additionalProperties: false
      description: Public user profile information.
  securitySchemes:
    Bearer:
      type: http
      description: 'Please enter a valid token (e.g., ''Bearer eyJ...'').

        You can obtain a token by logging in or registering a new account via the
        endpoints.'
      scheme: Bearer
      bearerFormat: JWT
security:
- Bearer: []
